{% extends "base.html" %}

{% block title %}Human Resources - Granada OS Admin{% endblock %}

{% block content %}
<div class="space-y-6" data-aos="fade-up">
    <div class="flex items-center justify-between">
        <h2 class="text-3xl font-bold bg-gradient-to-r from-green-400 to-blue-500 bg-clip-text text-transparent">
            Human Resources Management
        </h2>
        <div class="flex space-x-4">
            <button onclick="addEmployee()" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all duration-300 transform hover:scale-105">
                <i data-lucide="user-plus" class="w-4 h-4 inline mr-2"></i>
                Add Employee
            </button>
            <button onclick="generatePayroll()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105">
                <i data-lucide="calculator" class="w-4 h-4 inline mr-2"></i>
                Generate Payroll
            </button>
        </div>
    </div>

    <!-- HR Overview Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6" data-aos="fade-up" data-aos-delay="200">
        <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white transform hover:scale-105 transition-all duration-300">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-blue-100 text-sm">Total Employees</p>
                    <p class="text-3xl font-bold">24</p>
                </div>
                <i data-lucide="users" class="w-8 h-8 text-blue-200"></i>
            </div>
            <div class="mt-4 flex items-center">
                <i data-lucide="trending-up" class="w-4 h-4 text-blue-200 mr-1"></i>
                <span class="text-sm text-blue-200">+2 this month</span>
            </div>
        </div>

        <div class="bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl p-6 text-white transform hover:scale-105 transition-all duration-300">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-green-100 text-sm">Active Recruitments</p>
                    <p class="text-3xl font-bold">7</p>
                </div>
                <i data-lucide="briefcase" class="w-8 h-8 text-green-200"></i>
            </div>
            <div class="mt-4 flex items-center">
                <i data-lucide="clock" class="w-4 h-4 text-green-200 mr-1"></i>
                <span class="text-sm text-green-200">3 interviews today</span>
            </div>
        </div>

        <div class="bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl p-6 text-white transform hover:scale-105 transition-all duration-300">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-yellow-100 text-sm">Pending Reviews</p>
                    <p class="text-3xl font-bold">12</p>
                </div>
                <i data-lucide="star" class="w-8 h-8 text-yellow-200"></i>
            </div>
            <div class="mt-4 flex items-center">
                <i data-lucide="calendar" class="w-4 h-4 text-yellow-200 mr-1"></i>
                <span class="text-sm text-yellow-200">Due this quarter</span>
            </div>
        </div>

        <div class="bg-gradient-to-r from-purple-500 to-indigo-500 rounded-xl p-6 text-white transform hover:scale-105 transition-all duration-300">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-purple-100 text-sm">Leave Requests</p>
                    <p class="text-3xl font-bold">5</p>
                </div>
                <i data-lucide="calendar-days" class="w-8 h-8 text-purple-200"></i>
            </div>
            <div class="mt-4 flex items-center">
                <i data-lucide="check-circle" class="w-4 h-4 text-purple-200 mr-1"></i>
                <span class="text-sm text-purple-200">3 approved</span>
            </div>
        </div>
    </div>

    <!-- HR Modules -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6" data-aos="fade-up" data-aos-delay="400">
        <!-- Employee Directory -->
        <div class="bg-gray-900 rounded-xl p-6 border border-gray-800">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold flex items-center">
                    <i data-lucide="users-2" class="w-5 h-5 mr-2 text-blue-500"></i>
                    Employee Directory
                </h3>
                <button onclick="manageEmployees()" class="text-blue-400 hover:text-blue-300 text-sm">
                    View All →
                </button>
            </div>
            <div class="space-y-3">
                <div class="flex items-center space-x-3 p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors cursor-pointer">
                    <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold">
                        JM
                    </div>
                    <div class="flex-1">
                        <p class="font-medium">James Mwangi</p>
                        <p class="text-sm text-gray-400">Technical Director</p>
                    </div>
                    <span class="px-2 py-1 bg-green-900 text-green-300 rounded text-xs">Active</span>
                </div>
                <div class="flex items-center space-x-3 p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors cursor-pointer">
                    <div class="w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold">
                        SK
                    </div>
                    <div class="flex-1">
                        <p class="font-medium">Sarah Kones</p>
                        <p class="text-sm text-gray-400">Program Manager</p>
                    </div>
                    <span class="px-2 py-1 bg-yellow-900 text-yellow-300 rounded text-xs">On Leave</span>
                </div>
                <div class="flex items-center space-x-3 p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors cursor-pointer">
                    <div class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white font-bold">
                        BG
                    </div>
                    <div class="flex-1">
                        <p class="font-medium">Brian Gitta</p>
                        <p class="text-sm text-gray-400">Software Developer</p>
                    </div>
                    <span class="px-2 py-1 bg-green-900 text-green-300 rounded text-xs">Active</span>
                </div>
            </div>
        </div>

        <!-- Recruitment Pipeline -->
        <div class="bg-gray-900 rounded-xl p-6 border border-gray-800">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold flex items-center">
                    <i data-lucide="target" class="w-5 h-5 mr-2 text-green-500"></i>
                    Recruitment Pipeline
                </h3>
                <button onclick="manageRecruitment()" class="text-green-400 hover:text-green-300 text-sm">
                    Manage →
                </button>
            </div>
            <div class="space-y-4">
                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                    <div>
                        <p class="font-medium">Research Analyst</p>
                        <p class="text-sm text-gray-400">5 applications</p>
                    </div>
                    <span class="px-2 py-1 bg-blue-900 text-blue-300 rounded text-xs">Interviewing</span>
                </div>
                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                    <div>
                        <p class="font-medium">DevOps Engineer</p>
                        <p class="text-sm text-gray-400">12 applications</p>
                    </div>
                    <span class="px-2 py-1 bg-yellow-900 text-yellow-300 rounded text-xs">Screening</span>
                </div>
                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                    <div>
                        <p class="font-medium">Project Coordinator</p>
                        <p class="text-sm text-gray-400">8 applications</p>
                    </div>
                    <span class="px-2 py-1 bg-green-900 text-green-300 rounded text-xs">Offer Extended</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Performance & Leave Management -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6" data-aos="fade-up" data-aos-delay="600">
        <!-- Performance Reviews -->
        <div class="bg-gray-900 rounded-xl p-6 border border-gray-800">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold flex items-center">
                    <i data-lucide="trending-up" class="w-5 h-5 mr-2 text-yellow-500"></i>
                    Performance Reviews
                </h3>
                <button onclick="managePerformance()" class="text-yellow-400 hover:text-yellow-300 text-sm">
                    Schedule →
                </button>
            </div>
            <div class="space-y-3">
                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm">
                            JM
                        </div>
                        <div>
                            <p class="font-medium">James Mwangi</p>
                            <p class="text-sm text-gray-400">Annual Review</p>
                        </div>
                    </div>
                    <span class="px-2 py-1 bg-green-900 text-green-300 rounded text-xs">Completed</span>
                </div>
                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm">
                            SK
                        </div>
                        <div>
                            <p class="font-medium">Sarah Kones</p>
                            <p class="text-sm text-gray-400">Mid-year Review</p>
                        </div>
                    </div>
                    <span class="px-2 py-1 bg-yellow-900 text-yellow-300 rounded text-xs">Pending</span>
                </div>
            </div>
            
            <!-- Performance Chart -->
            <div class="mt-4">
                <canvas id="performanceChart" width="400" height="200"></canvas>
            </div>
        </div>

        <!-- Leave Management -->
        <div class="bg-gray-900 rounded-xl p-6 border border-gray-800">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold flex items-center">
                    <i data-lucide="calendar-check" class="w-5 h-5 mr-2 text-purple-500"></i>
                    Leave Management
                </h3>
                <button onclick="manageLeave()" class="text-purple-400 hover:text-purple-300 text-sm">
                    Calendar →
                </button>
            </div>
            <div class="space-y-3">
                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                    <div>
                        <p class="font-medium">Grace Mapunda</p>
                        <p class="text-sm text-gray-400">Annual Leave: 5 days</p>
                    </div>
                    <div class="flex space-x-2">
                        <button class="px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700">
                            Approve
                        </button>
                        <button class="px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700">
                            Reject
                        </button>
                    </div>
                </div>
                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                    <div>
                        <p class="font-medium">Michael Ssemakula</p>
                        <p class="text-sm text-gray-400">Sick Leave: 2 days</p>
                    </div>
                    <span class="px-2 py-1 bg-green-900 text-green-300 rounded text-xs">Approved</span>
                </div>
            </div>
            
            <!-- Leave Balance Chart -->
            <div class="mt-4">
                <canvas id="leaveChart" width="400" height="200"></canvas>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="bg-gray-900 rounded-xl p-6 border border-gray-800" data-aos="fade-up" data-aos-delay="800">
        <h3 class="text-xl font-bold mb-4 flex items-center">
            <i data-lucide="zap" class="w-5 h-5 mr-2 text-yellow-500"></i>
            HR Quick Actions
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
            <button onclick="processPayroll()" class="p-4 bg-green-600 hover:bg-green-700 rounded-lg transition-all duration-300 transform hover:scale-105">
                <i data-lucide="dollar-sign" class="w-6 h-6 mb-2 mx-auto"></i>
                <h4 class="font-medium">Process Payroll</h4>
                <p class="text-sm text-green-200">Monthly salary processing</p>
            </button>
            
            <button onclick="scheduleInterview()" class="p-4 bg-blue-600 hover:bg-blue-700 rounded-lg transition-all duration-300 transform hover:scale-105">
                <i data-lucide="calendar-plus" class="w-6 h-6 mb-2 mx-auto"></i>
                <h4 class="font-medium">Schedule Interview</h4>
                <p class="text-sm text-blue-200">Book candidate meetings</p>
            </button>
            
            <button onclick="generateContracts()" class="p-4 bg-purple-600 hover:bg-purple-700 rounded-lg transition-all duration-300 transform hover:scale-105">
                <i data-lucide="file-text" class="w-6 h-6 mb-2 mx-auto"></i>
                <h4 class="font-medium">Generate Contracts</h4>
                <p class="text-sm text-purple-200">Employment agreements</p>
            </button>
            
            <button onclick="hrReports()" class="p-4 bg-orange-600 hover:bg-orange-700 rounded-lg transition-all duration-300 transform hover:scale-105">
                <i data-lucide="bar-chart-3" class="w-6 h-6 mb-2 mx-auto"></i>
                <h4 class="font-medium">HR Reports</h4>
                <p class="text-sm text-orange-200">Analytics & insights</p>
            </button>
        </div>
    </div>
</div>

<script>
    // Initialize performance chart
    const performanceCtx = document.getElementById('performanceChart').getContext('2d');
    new Chart(performanceCtx, {
        type: 'line',
        data: {
            labels: ['Q1', 'Q2', 'Q3', 'Q4'],
            datasets: [{
                label: 'Average Performance Score',
                data: [85, 87, 89, 91],
                borderColor: '#3b82f6',
                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                tension: 0.4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    labels: {
                        color: '#9ca3af'
                    }
                }
            },
            scales: {
                x: {
                    ticks: {
                        color: '#9ca3af'
                    }
                },
                y: {
                    ticks: {
                        color: '#9ca3af'
                    },
                    min: 80,
                    max: 95
                }
            }
        }
    });

    // Initialize leave chart
    const leaveCtx = document.getElementById('leaveChart').getContext('2d');
    new Chart(leaveCtx, {
        type: 'doughnut',
        data: {
            labels: ['Used', 'Remaining'],
            datasets: [{
                data: [12, 8],
                backgroundColor: ['#ef4444', '#10b981'],
                borderWidth: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    labels: {
                        color: '#9ca3af'
                    }
                }
            }
        }
    });

    // HR Functions
    function addEmployee() {
        alert('Opening employee registration form');
    }

    function generatePayroll() {
        alert('Generating monthly payroll');
    }

    function manageEmployees() {
        alert('Opening employee directory');
    }

    function manageRecruitment() {
        alert('Opening recruitment pipeline');
    }

    function managePerformance() {
        alert('Opening performance management');
    }

    function manageLeave() {
        alert('Opening leave calendar');
    }

    function processPayroll() {
        alert('Processing monthly payroll');
    }

    function scheduleInterview() {
        alert('Scheduling candidate interview');
    }

    function generateContracts() {
        alert('Generating employment contracts');
    }

    function hrReports() {
        alert('Generating HR analytics reports');
    }
</script>
{% endblock %}